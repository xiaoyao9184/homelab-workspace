---


- name: init
  vars:
    run_wsl: |
      ansible-playbook \
        --inventory $PWD/ansible/inventory-ssh.yml \
        $PWD/../../../ubnt/seed/remote-ssh.init.yml
  vars_prompt:
    - name: seed_group
      prompt: "What is seed host group(all host use one ssh key)?"
      private: no
      default: 
    - name: seed_user
      prompt: "What is seed host user(all host use one user)?"
      private: no
      default: 
  hosts: localhost
  connection: local
  become: false
  tasks: 

    - include_tasks: "{{ playbook_dir }}/../../.seed/ansible-tasks/seed-ssh.create.yml"
      vars:
        host_group: "{{ seed_group }}"
        remote_user: "{{ seed_user }}"
        ansible_group: "ubnt"

    - name: install ansible-pylibssh
      ansible.builtin.pip:
        name: ansible-pylibssh


- name: init
  import_playbook: "{{ playbook_dir }}/../configure-key/ansible-playbook.build.yml"
